<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <title>弹幕墙</title>
    <link rel="stylesheet" href="wall.css"/>
</head>
<body>
<div id="container" class="container"></div>
<div class="input-box">
    <!--限制用户输入的文字长度，尽量避免用户输入的内容长度超过屏幕的宽度-->
    <input id="barrageText" type="text" maxlength="20" placeholder="说点什么吧~">
    <button id="btn" class="btn">发送</button>
</div>
<script src="https://cdn.staticfile.org/jquery/3.3.1/jquery.min.js"></script>
<script src="barrage.js"></script>
<script>
  $(function () {
    var option={
      container:"#container",//弹幕墙的id
      barrageLen:15//弹幕的行数
    };
    barrageWall.init(option);//初始化弹幕墙

    // 以下注释掉的部分为测试弹幕效果的各种定时器，模拟用户输入
    // var num=0,timer =setInterval(function(){
    //     num++;
    //     if(num>50){clearInterval(timer)}
    //     barrageWall.upWall("images/aq.png","我是说话人"+num,"我说的我说的话我说的话我说的话我说的话我说的话话");
    // },500);
    
  })

  $("#btn").click(function () {
    var barrageText = $("#barrageText");
    var vla = barrageText.val().replace(/(^\s*)|(\s*$)/g, "");
    if(vla){
      barrageWall.upWall("images/aq.png","我是说话人",vla);//发送弹幕
      barrageText.val("");
    }
  });
</script>
</body>
</html>